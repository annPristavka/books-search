{"ast":null,"code":"var _jsxFileName = \"/home/developer/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/Ann/books-search/src/components/Main/index.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux/es/exports';\nimport { getBooksAction } from '../../reducer/bookReduce';\nimport Header from '../Header/Header';\nimport Found from '../Found';\nimport Books from '../Books/Books';\nimport Modal from '../Modal';\nimport Loading from '../Loading';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Main = () => {\n  _s();\n\n  const [value, setValue] = useState('');\n  const [dataBooks, setDataBook] = useState([]);\n  const [show, setShow] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [order, setOrder] = useState('newest');\n  const [categories, setCategories] = useState('all');\n  const dispatch = useDispatch();\n  const books = useSelector(state => state.books.books);\n\n  const getData = () => {\n    setLoading(true);\n    axios.get('https://www.googleapis.com/books/v1/volumes?q=' + value + '&orderBy=' + order + '&key=AIzaSyACAECI5Xk3HkHRkteZ1Bdiyj8WDHeIYFk&maxResults=30').then(response => dispatch(getBooksAction(response.data.items))).catch(err => console.log(err));\n    setLoading(false);\n  }; // useEffect(() => (\n  //     getData()\n  // ),[])\n\n\n  const booksInfo = show ? /*#__PURE__*/_jsxDEV(Modal, {\n    setShow: setShow,\n    dataBooks: dataBooks\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 30\n  }, this) : /*#__PURE__*/_jsxDEV(Books, {\n    setDataBook: setDataBook,\n    setShow: setShow\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 81\n  }, this);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      setValue: setValue,\n      getData: getData,\n      setShow: setShow,\n      setOrder: setOrder,\n      setCategories: setCategories\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), books.length > 0 && /*#__PURE__*/_jsxDEV(Found, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 36\n    }, this), loading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 27\n    }, this) : /*#__PURE__*/_jsxDEV(Books, {\n      setDataBook: setDataBook,\n      setShow: setShow\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 42\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Main, \"vUGBA7gDrdQU+iiwX/09/phmdJk=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = Main;\nexport default Main;\n\nvar _c;\n\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"names":["React","useState","useEffect","useDispatch","useSelector","getBooksAction","Header","Found","Books","Modal","Loading","axios","Main","value","setValue","dataBooks","setDataBook","show","setShow","loading","setLoading","order","setOrder","categories","setCategories","dispatch","books","state","getData","get","then","response","data","items","catch","err","console","log","booksInfo","length"],"sources":["/home/developer/Рабочий стол/Ann/books-search/src/components/Main/index.jsx"],"sourcesContent":["import React, {useState, useEffect} from 'react'\nimport {useDispatch, useSelector} from 'react-redux/es/exports'\nimport { getBooksAction } from '../../reducer/bookReduce'\nimport Header from '../Header/Header'\nimport Found from '../Found'\nimport Books from '../Books/Books'\nimport Modal from '../Modal'\nimport Loading from '../Loading'\nimport axios from 'axios'\n\nconst Main = () => {\n\n    const [value, setValue] = useState('')\n    const [dataBooks, setDataBook] = useState([])\n    const [show, setShow] = useState(false)\n    const [loading, setLoading] = useState(false)\n    const [order, setOrder] = useState('newest')\n    const [categories, setCategories] = useState('all')\n\n    const dispatch = useDispatch();\n    const books = useSelector(state => state.books.books)\n\n    const getData = () => {\n        setLoading(true)\n\n        axios.get('https://www.googleapis.com/books/v1/volumes?q='+value+'&orderBy='+order+'&key=AIzaSyACAECI5Xk3HkHRkteZ1Bdiyj8WDHeIYFk&maxResults=30')\n        .then(response => dispatch(getBooksAction(response.data.items)))\n        .catch(err => console.log(err))\n\n        setLoading(false)\n    }\n\n    // useEffect(() => (\n    //     getData()\n    // ),[])\n\n    \n    const booksInfo = show ? <Modal setShow={setShow} dataBooks={dataBooks}/> : <Books setDataBook={setDataBook} setShow={setShow}/>\n\n    return(\n        <>\n            <Header setValue={setValue} getData={getData} setShow={setShow} setOrder={setOrder} setCategories={setCategories}/>\n            {  books.length > 0 && <Found /> }\n           \n            { \n                loading ? <Loading /> :  <Books setDataBook={setDataBook} setShow={setShow}/>\n            }\n        </>\n    )\n}\n\nexport default Main"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,SAAQC,WAAR,EAAqBC,WAArB,QAAuC,wBAAvC;AACA,SAASC,cAAT,QAA+B,0BAA/B;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;;AAEA,MAAMC,IAAI,GAAG,MAAM;EAAA;;EAEf,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBb,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAACc,SAAD,EAAYC,WAAZ,IAA2Bf,QAAQ,CAAC,EAAD,CAAzC;EACA,MAAM,CAACgB,IAAD,EAAOC,OAAP,IAAkBjB,QAAQ,CAAC,KAAD,CAAhC;EACA,MAAM,CAACkB,OAAD,EAAUC,UAAV,IAAwBnB,QAAQ,CAAC,KAAD,CAAtC;EACA,MAAM,CAACoB,KAAD,EAAQC,QAAR,IAAoBrB,QAAQ,CAAC,QAAD,CAAlC;EACA,MAAM,CAACsB,UAAD,EAAaC,aAAb,IAA8BvB,QAAQ,CAAC,KAAD,CAA5C;EAEA,MAAMwB,QAAQ,GAAGtB,WAAW,EAA5B;EACA,MAAMuB,KAAK,GAAGtB,WAAW,CAACuB,KAAK,IAAIA,KAAK,CAACD,KAAN,CAAYA,KAAtB,CAAzB;;EAEA,MAAME,OAAO,GAAG,MAAM;IAClBR,UAAU,CAAC,IAAD,CAAV;IAEAT,KAAK,CAACkB,GAAN,CAAU,mDAAiDhB,KAAjD,GAAuD,WAAvD,GAAmEQ,KAAnE,GAAyE,4DAAnF,EACCS,IADD,CACMC,QAAQ,IAAIN,QAAQ,CAACpB,cAAc,CAAC0B,QAAQ,CAACC,IAAT,CAAcC,KAAf,CAAf,CAD1B,EAECC,KAFD,CAEOC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAFd;IAIAf,UAAU,CAAC,KAAD,CAAV;EACH,CARD,CAZe,CAsBf;EACA;EACA;;;EAGA,MAAMkB,SAAS,GAAGrB,IAAI,gBAAG,QAAC,KAAD;IAAO,OAAO,EAAEC,OAAhB;IAAyB,SAAS,EAAEH;EAApC;IAAA;IAAA;IAAA;EAAA,QAAH,gBAAsD,QAAC,KAAD;IAAO,WAAW,EAAEC,WAApB;IAAiC,OAAO,EAAEE;EAA1C;IAAA;IAAA;IAAA;EAAA,QAA5E;EAEA,oBACI;IAAA,wBACI,QAAC,MAAD;MAAQ,QAAQ,EAAEJ,QAAlB;MAA4B,OAAO,EAAEc,OAArC;MAA8C,OAAO,EAAEV,OAAvD;MAAgE,QAAQ,EAAEI,QAA1E;MAAoF,aAAa,EAAEE;IAAnG;MAAA;MAAA;MAAA;IAAA,QADJ,EAEOE,KAAK,CAACa,MAAN,GAAe,CAAf,iBAAoB,QAAC,KAAD;MAAA;MAAA;MAAA;IAAA,QAF3B,EAKQpB,OAAO,gBAAG,QAAC,OAAD;MAAA;MAAA;MAAA;IAAA,QAAH,gBAAkB,QAAC,KAAD;MAAO,WAAW,EAAEH,WAApB;MAAiC,OAAO,EAAEE;IAA1C;MAAA;MAAA;MAAA;IAAA,QALjC;EAAA,gBADJ;AAUH,CAvCD;;GAAMN,I;UASeT,W,EACHC,W;;;KAVZQ,I;AAyCN,eAAeA,IAAf"},"metadata":{},"sourceType":"module"}